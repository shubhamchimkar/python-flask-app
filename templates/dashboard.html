{% extends "base.html" %}

{% block content %}
<h1>{{ title }}</h1>

{% if selected_project %}
  <div style="margin-bottom: 20px; padding: 10px; background: #e6f7ff; border-left: 4px solid #1890ff;">
    <strong>Selected Project:</strong> {{ selected_project.name }}
  </div>
{% endif %}

<h2>Your Projects</h2>

{% if projects %}
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
    {% for project in projects %}
      <div style="background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <h3 style="margin-top: 0;">{{ project.name }}</h3>
        <p>{{ project.description }}</p>
        <div style="margin-top: 10px;">
          <a href="/boards/{{ project.id }}" style="color: #0078d4; font-weight: 500; margin-right: 10px;">Boards</a>
          <a href="/pipelines?project_id={{ project.id }}" style="color: #28a745; font-weight: 500;">Pipelines</a>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p>No projects found.</p>
{% endif %}

<hr style="margin: 40px 0;" />

<h3>Create New Project</h3>
<form method="POST" action="/create_project" style="max-width: 500px;">
  <input type="text" name="name" placeholder="Project Name" required
         style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 5px;" />
  <textarea name="description" placeholder="Description"
            style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 5px;"></textarea>
  <button type="submit"
          style="background-color: #0078d4; color: white; padding: 10px 20px; border: none; border-radius: 5px; font-weight: bold;">
    Create Project
  </button>
</form>
{% endblock %}
